<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSE -- Sensorik: Projektübersicht</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PSE -- Sensorik
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Projektübersicht </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Wir haben das Board CY8CKIT-149 PsoC 4100S Plus Prototyping Kit benutzt, um Umweltdaten zu erfassen und diese dann per BLE an ein mobiles Endgerät weiterzuleiten. Auf diesem hat dann die Frontend-Gruppe eine Auswertung und Ansicht der Daten ermöglicht.</p>
<blockquote class="doxtable">
<p>Git Link: <a href="https://code.fbi.h-da.de/pse_mayer_ss19/sensorik/tree/master">https://code.fbi.h-da.de/pse_mayer_ss19/sensorik/tree/master</a> </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md1"></a>
Sensoren</h1>
<blockquote class="doxtable">
<p>Git Link: <a href="https://code.fbi.h-da.de/pse_mayer_ss19/sensorik/tree/master/sensorik.cydsn">https://code.fbi.h-da.de/pse_mayer_ss19/sensorik/tree/master/sensorik.cydsn</a> </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md2"></a>
VOCSens</h2>
<p>Das <a href="https://www.glyn.de/Produkte/Sensoren/VOCSens">VOCSens board</a> vereint die zwei Sensoren <a href="https://www.sensirion.com/en/environmental-sensors/humidity-sensors/digital-humidity-sensors-for-various-applications/">SHT31</a> und <a href="https://www.sensirion.com/de/umweltsensoren/gassensoren/multipixel-gassensoren/">SGP30</a> auf einem Board. Beide wurden hegestellt von <a href="https://www.sensirion.com/en/">Sensirion</a>.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
SHT31 Sensor</h2>
<p><a href="https://github.com/Sensirion/embedded-sht">Der benutzte Treiber</a> ist von Sensirion erstellt.</p>
<p>Initialisiere den SHT31 Sensor.</p>
<p>Erst initialisiert man zwei Floats, einen für die Temperatur und einen für die Luftfeuchtigkeit.</p>
<p>Dann initialisiert man entweder zwei Pointer auf diese Variablen und übergibt diese an die Messfunktion, oder übergibt deren Adressen direkt.</p>
<p>Man hat die Wahl zwischen einer blockierenden und einer nicht blockierenden Funktion während der Messung. Im zweiten Fall muss man sichergehen genug Zeit verstreichen zu lassen, so dass der Sensor die Messung fertigstellen kann (in dem Fall 15ms).</p>
<p>Die UART nutzt eine baud rate von 115200.</p>
<p>Das ° Symbol der Temperatur könnte im Terminal nicht richtig dargestellt werden.</p>
<p>Die Terminalausgabe sollte folgendermaßen aussehen: </p><div class="fragment"><div class="line">Measured temperature: 24.152°C</div><div class="line">Measured humidity:    50.531%</div><div class="line">Measured temperature: 24.165°C</div><div class="line">Measured humidity:    50.521%</div><div class="line">Measured temperature: 24.136°C</div><div class="line">Measured humidity:    50.543%</div><div class="line">Measured temperature: 24.152°C</div><div class="line">Measured humidity:    50.531%</div><div class="line">...</div></div><!-- fragment --> <h3><a class="anchor" id="autotoc_md4"></a>
Kombinierung mit einem anderen Projekt</h3>
<ul>
<li>Die *.c und *.h Dateien in das neue Projekt kopieren, <b>nicht</b> aber die main.c</li>
<li>Beide Elemente des <b>TopDesign</b> in das neue Projekt kopieren</li>
<li>Die Pins entsprechend der Anwendungen belegen (Dieses Projekt nutzt 3.0 für I2C scl, 3.1 für I2C sda; 7.0 für UART rx und 7.1 für UART tx)</li>
<li><a class="el" href="_s_h_t31_8h_source.html">SHT31.h</a> in die main.c inkludieren</li>
<li>Den Sensor mit <code>GY_SHT31_Init()</code> einmalig initialisieren</li>
</ul>
<p>Um eine Messung durchzuführen die Funktion <code>GY_SHT31_Measure(double* temperature_, double* humidity_, bool console_out)</code> wie folgt aufrufen: </p><div class="fragment"><div class="line"> {C++}</div><div class="line">double temperature;</div><div class="line">double humidity;</div><div class="line"></div><div class="line">GY_SHT31_Measure(&amp;temperature, &amp;humidity, true);</div></div><!-- fragment --><p>Info: Die Funktion blockiert während der Messung. Man kann daher auch die Funktion <code>GY_SHT31_Ready_Measurement();</code> und <code>GY_SHT31_Read_Measurement(double* temperature_, double* humidity_, bool console_out);</code> als eine nicht-blockierende Alternative verwenden: </p><div class="fragment"><div class="line"> {C++}</div><div class="line">double temperature;</div><div class="line">double humidity;</div><div class="line"></div><div class="line">GY_SHT31_Ready_Measurement();</div><div class="line">CyDelay(15);</div><div class="line">GY_SHT31_Read_Measurement(&amp;temperature, &amp;humidity, true);</div></div><!-- fragment --><blockquote class="doxtable">
<p>Git Link: <a href="https://code.fbi.h-da.de/pse_mayer_ss19/sensorik/tree/master/sensorik.cydsn/SHT31">https://code.fbi.h-da.de/pse_mayer_ss19/sensorik/tree/master/sensorik.cydsn/SHT31</a> </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md5"></a>
Adafruit SGP30</h2>
<p>Dieser Sensor misst eCO2 und TVOC. </p>
<h3><a class="anchor" id="autotoc_md6"></a>
eCO2  (equivalent calculated carbon-dioxide)</h3>
<p>Äquivalentes CO2 ist die Konzentration von CO2 , die den gleichen Strahlungsantrieb verursachen würde wie eine bestimmte Art und Konzentration von Treibhausgas. Beispiele für solche Treibhausgase sind Methan, Perfluorkohlenwasserstoffe und Lachgas. eCO2 wird als parts per million by volume ausgedrückt, ppmv.</p>
<h3><a class="anchor" id="autotoc_md7"></a>
TVOC (Total Volatile Organic Compound)</h3>
<p>Die englische Abkürzung VOC (Volatile Organic Compounds) bezeichnet die Gruppe der flüchtigen organischen Verbindungen. VOC umschreibt gas- und dampfförmige Stoffe organischen Ursprungs in der Luft. Dazu gehören zum Beispiel Kohlenwasserstoffe, Alkohole, Aldehyde und organische Säuren. Viele Lösemittel, Flüssigbrennstoffe und synthetisch hergestellte Stoffe können als VOC auftreten, aber auch zahlreiche organische Verbindungen, die in biologischen Prozessen gebildet werden. Viele hundert verschiedene Einzelverbindungen können in der Luft gemeinsam auftreten.</p>
<p>Konzentrationen, die gesundheitliche Beeinträchtigungen bewirken, können unmittelbar nach Bau- und umfangreichen Renovierungsmaßnahmen auftreten, sowie bei unsachgemäßer Verarbeitung und massivem Einsatz wenig geeigneter Produkte. Geruchsbelästigungen, Reizungen und Symptome, die nicht unmittelbar einer Krankheit zugeordnet werden können, wurden als akute Wirkungen auf Menschen beschrieben. Diese Effekte müssen vermieden werden, ebenso mögliche chronische Wirkungen, die Wissenschaftlerinnen und Wissenschaftler aus toxikologischen Beurteilungen abgeleitet haben; besonders natürlich krebserzeugende, erbgutverändernde und fortpflanzungsgefährdende Wirkungen.[1]</p>
<p>[1] <a href="https://www.umweltbundesamt.de/themen/gesundheit/umwelteinfluesse-auf-den-menschen/chemische-stoffe/fluechtige-organische-verbindungen">https://www.umweltbundesamt.de/themen/gesundheit/umwelteinfluesse-auf-den-menschen/chemische-stoffe/fluechtige-organische-verbindungen</a></p>
<blockquote class="doxtable">
<p>Git Link: <a href="https://code.fbi.h-da.de/pse_mayer_ss19/sensorik/tree/master/sensorik.cydsn/SGP30">https://code.fbi.h-da.de/pse_mayer_ss19/sensorik/tree/master/sensorik.cydsn/SGP30</a> </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md8"></a>
SPS30</h2>
<p>Dieser Sensor misst den Feinstaubgehalt in der Luft für Partikel einer bestimmten Größenordnung.</p>
<div class="fragment"><div class="line"> {C++}</div><div class="line">struct sps30_measurement{</div><div class="line">    // Mass concentration in μg/m^3 (Microgram per cubic meter);  μ = 10^-6</div><div class="line">    float32_t mc_1p0;  // PM1.0  &lt; 1.0 μm (Micrometer)</div><div class="line">    float32_t mc_2p5;  // PM2.5  &lt; 2.5 μm</div><div class="line">    float32_t mc_4p0;  // PM4.0  &lt; 4.0 μm</div><div class="line">    float32_t mc_10p0; // PM10.0 &lt; 10.0 μm</div><div class="line">    // Amount per cm^3</div><div class="line">    float32_t nc_0p5;  // PM0.5  &lt; 0.5 μm</div><div class="line">    float32_t nc_1p0;  // PM1.0  &lt; 1.0 μm</div><div class="line">    float32_t nc_2p5;  // PM2.5  &lt; 2.5 μm</div><div class="line">    float32_t nc_4p0;  // PM4.0  &lt; 4.0 μm</div><div class="line">    float32_t nc_10p0; // PM10.0 &lt; 10.0 μm</div><div class="line">    float32_t typical_particle_size;</div><div class="line">};</div></div><!-- fragment --> <blockquote class="doxtable">
<p>Git Link: <a href="https://code.fbi.h-da.de/pse_mayer_ss19/sensorik/tree/master/sensorik.cydsn/SPS30">https://code.fbi.h-da.de/pse_mayer_ss19/sensorik/tree/master/sensorik.cydsn/SPS30</a> </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md9"></a>
Event Struktur</h1>
<p>In der main.c des Sensorik Projektes werden im Code Abschnitte definiert, die Eventstrukturen gebrauchen um Daten möglichst effektiv weiterzuleiten und darzustellen.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Projekt-Taler</h1>
<p>Wir haben uns für eine äquivalente Verteilung der Projekt-Taler entschieden. Sprich: Jeder bekommt 16.67 Taler für die geleistete Arbeit.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Autoren</h1>
<p>Nima Esmaeepour</p>
<p>Timo Kautzmann</p>
<p>Lennard Niesig</p>
<p>Felix Ohms</p>
<p>Maximilian Reinheimer</p>
<p>Lucas Schürrmann </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
